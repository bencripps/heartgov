define("signUpService",["utilities"],function(a){"use strict";var b={init:function(){this.form=document.getElementsByName("userSignup"),this.signUpButton=document.getElementById("signupbutton"),this.signUpButton.addEventListener("click",this.formSubmitted),this.form[0].addEventListener("keydown",a.resetState.bind(this,".hgov-help-block"))},validateForm:function(){var a=this.getFormValues();return a.username.length<1?1:a.password<6?2:a.firstName.length<1?3:a.lastName.length<1?4:/^\S+@\S+\.\S+$/.test(a.emailAddress)?a.phoneNumber.length<10?6:(a.signupPassword.length<1,7):5},getFormValues:function(){var a={};return Array.prototype.forEach.call(document.querySelectorAll('form[name="userSignup"] input'),function(b){a[b.name]=b.value}),a},showFormError:function(a){var b=document.querySelectorAll(".hgov-help-block");b[a].style.display="block"},formSubmitted:function(c){c.preventDefault();var d=b.validateForm();7===d?a.ajax(b.getFormValues(),"post","/createUser",function(b){a.showModal(b),b.code>0&&setTimeout(a.redirect.bind(this,"/database"),3e3)}):b.showFormError(d)}};return b});