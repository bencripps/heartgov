define("searchBar",["react"],function(a){var b=a.createClass({displayName:"searchBar",getInitialState:function(){return{searchKeyword:"",searchType:"phoneNumber"}},render:function(){var b=this;return a.createElement("div",{style:{display:"inline-block;",textAlign:"left",width:"88%"}},a.createElement(b.QueryDropDown,null),a.createElement(b.QueryInput,null),a.createElement(b.QueryButton,{keyword:b.state.searchKeyword}))},QueryButton:a.createClass({displayName:"QueryButton",render:function(){return a.createElement("button",{onClick:this._owner.executeSearch.bind(this,this),className:"btn btn-info",style:{"float":"right"}},"Search")}}),QueryDropDown:a.createClass({displayName:"QueryDropDown",render:function(){return a.createElement("select",{style:{paddingRight:"10px"},onChange:this.onChange},a.createElement("option",{value:"phoneNumber"},"Phone Number"))},onChange:function(a){this._owner.setState({searchType:a.target.value}),this._owner.props.parentScope.setState({searchType:a.target.value})}}),QueryInput:a.createClass({displayName:"QueryInput",render:function(){return a.createElement("input",{onKeyDown:this.onKeyDown,onChange:this.onChange,type:"text",className:"form-control input-sm",style:{marginLeft:"20px",width:"70%",display:"inline-block"}})},onChange:function(a){this._owner.setState({searchKeyword:a.target.value}),this._owner.props.parentScope.setState({searchKeyword:a.target.value})},onKeyDown:function(a){13===a.which&&this._owner.executeSearch(this)}}),executeSearch:function(a){var b=this._owner,c={};query={city:location.pathname,startIndex:0},b.props.utils.setLoading(!0,document.querySelector("#exportButtonWrap")),this.state.searchKeyword?(c[this.state.searchType]=this.state.searchKeyword,query.search=c,b.props.utils.ajax(query,"post","/find/texts",function(a){b.setState({texts:a.result,total:a.count,tags:a.tags,currentTag:a.tags[0].id}),b.props.utils.setLoading(!1,document.querySelector("#exportButtonWrap"))})):b.props.utils.ajax(query,"post","/find/texts",function(a){b.setState({texts:a.result,total:a.count,tags:a.tags,currentTag:a.tags[0].id}),b.props.utils.setLoading(!1,document.querySelector("#exportButtonWrap"))})}});return b});